{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedFile,setSelectedFile]=useState(null);const[prediction,setPrediction]=useState('');const[imagePreview,setImagePreview]=useState('');const handleFileChange=event=>{const file=event.target.files[0];setSelectedFile(file);// Create a preview URL for the uploaded image\nif(file){const previewUrl=URL.createObjectURL(file);setImagePreview(previewUrl);}};const handleUpload=async()=>{if(!selectedFile){alert(\"Please select a file before uploading.\");return;}const formData=new FormData();formData.append('file',selectedFile);try{const response=await fetch('http://localhost:5000/upload',{method:'POST',body:formData});if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}const data=await response.json();setPrediction(data.prediction);// Update state with the prediction\n}catch(error){console.error('Error:',error);alert('Failed to fetch prediction. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Upload an Image for Prediction\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"file-input-label\",htmlFor:\"file-input\",children:[\"Choose a file\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file-input\",onChange:handleFileChange,style:{display:'none'}// Hide the input\n})]}),/*#__PURE__*/_jsx(\"button\",{className:\"upload-button\",onClick:handleUpload,children:\"Upload\"}),imagePreview&&/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Uploaded Image:\"}),/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Uploaded\",className:\"preview-image\"})]}),prediction&&/*#__PURE__*/_jsxs(\"h2\",{className:\"prediction\",children:[\"Predicted Digit: \",prediction]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","selectedFile","setSelectedFile","prediction","setPrediction","imagePreview","setImagePreview","handleFileChange","event","file","target","files","previewUrl","URL","createObjectURL","handleUpload","alert","formData","FormData","append","response","fetch","method","body","ok","Error","status","data","json","error","console","className","children","htmlFor","type","id","onChange","style","display","onClick","src","alt"],"sources":["D:/Digit_Recognition_Env/mnist-digit-recognition/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [prediction, setPrediction] = useState('');\n  const [imagePreview, setImagePreview] = useState('');\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n\n    // Create a preview URL for the uploaded image\n    if (file) {\n      const previewUrl = URL.createObjectURL(file);\n      setImagePreview(previewUrl);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      alert(\"Please select a file before uploading.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    try {\n      const response = await fetch('http://localhost:5000/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      setPrediction(data.prediction); // Update state with the prediction\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Failed to fetch prediction. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Upload an Image for Prediction</h1>\n      <label className=\"file-input-label\" htmlFor=\"file-input\">\n        Choose a file\n        <input\n          type=\"file\"\n          id=\"file-input\"\n          onChange={handleFileChange}\n          style={{ display: 'none' }} // Hide the input\n        />\n      </label>\n      <button className=\"upload-button\" onClick={handleUpload}>Upload</button>\n      {imagePreview && (\n        <div className=\"image-preview\">\n          <h2>Uploaded Image:</h2>\n          <img\n            src={imagePreview}\n            alt=\"Uploaded\"\n            className=\"preview-image\"\n          />\n        </div>\n      )}\n      {prediction && <h2 className=\"prediction\">Predicted Digit: {prediction}</h2>}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}